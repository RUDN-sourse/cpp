# Лабораторная работа №4: Объектно-Ориентированное Программирование в C++

## Цель работы
Освоить основные принципы ООП в C++: инкапсуляцию, наследование, полиморфизм и абстракцию на практике.

---

## Задача 1: Базовый класс "Студент"

**Цель:** Реализовать класс с инкапсуляцией данных.

```cpp
#include <iostream>
#include <string>
using namespace std;

class Student {
private:
    // TODO: Добавить приватные поля: имя, возраст, средний балл
    // и массив оценок (5 элементов)

public:
    // TODO: Создать конструктор с параметрами
    // TODO: Реализовать геттеры и сеттеры с валидацией
    // TODO: Метод для расчета среднего балла
    // TODO: Метод для вывода информации о студенте
    // TODO: Метод для проверки стипендии (средний балл >= 4.5)
};

int main() {
    // Тестирование класса Student
    Student student("Иван Иванов", 20);
    
    // Установка оценок
    student.setGrade(0, 5);
    student.setGrade(1, 4);
    student.setGrade(2, 5);
    student.setGrade(3, 3);
    student.setGrade(4, 4);
    
    student.displayInfo();
    
    if (student.hasScholarship()) {
        cout << "Студент получает стипендию" << endl;
    } else {
        cout << "Стипендия не назначена" << endl;
    }
    
    return 0;
}
```

---

## Задача 2: Наследование - Академические работники

**Цель:** Создать иерархию классов с использованием наследования.

```cpp
#include <iostream>
#include <string>
using namespace std;

class Person {
protected:
    string name;
    int age;
    string address;

public:
    Person(string n, int a, string addr) : name(n), age(a), address(addr) {}
    virtual void displayInfo() const {
        cout << "Имя: " << name << ", Возраст: " << age << ", Адрес: " << address << endl;
    }
    virtual ~Person() {}
};

class Student : public Person {
private:
    string studentId;
    double averageGrade;

public:
    // TODO: Создать конструктор
    // TODO: Переопределить displayInfo()
    // TODO: Добавить методы для работы с оценками
};

class Professor : public Person {
private:
    string department;
    double salary;
    int yearsOfExperience;

public:
    // TODO: Создать конструктор
    // TODO: Переопределить displayInfo()
    // TODO: Добавить метод для расчета надбавки за стаж
};

int main() {
    // Тестирование иерархии классов
    Student student("Петр Петров", 20, "ул. Студенческая, 15", "S12345", 4.3);
    Professor prof("Доктор Иванов", 45, "ул. Академическая, 10", "Компьютерные науки", 50000, 15);
    
    student.displayInfo();
    prof.displayInfo();
    
    return 0;
}
```

---

## Задача 3: Полиморфизм - Геометрические фигуры

**Цель:** Реализовать полиморфное поведение с виртуальными функциями.

```cpp
#include <iostream>
#include <vector>
#include <cmath>
using namespace std;

class Shape {
protected:
    string color;
    string name;

public:
    Shape(string n, string c) : name(n), color(c) {}
    virtual ~Shape() {}
    
    // TODO: Объявить чисто виртуальные методы:
    // - calculateArea()
    // - calculatePerimeter()
    // - draw()
    
    virtual void displayInfo() const {
        cout << "Фигура: " << name << ", Цвет: " << color << endl;
    }
};

class Circle : public Shape {
private:
    double radius;

public:
    Circle(string c, double r) : Shape("Круг", c), radius(r) {}
    
    // TODO: Реализовать виртуальные методы
    // Площадь круга: π * r²
    // Периметр круга: 2 * π * r
};

class Rectangle : public Shape {
private:
    double width, height;

public:
    Rectangle(string c, double w, double h) : Shape("Прямоугольник", c), width(w), height(h) {}
    
    // TODO: Реализовать виртуальные методы
};

class Triangle : public Shape {
private:
    double sideA, sideB, sideC;

public:
    Triangle(string c, double a, double b, double c) : Shape("Треугольник", c), sideA(a), sideB(b), sideC(c) {}
    
    // TODO: Реализовать виртуальные методы
    // Площадь по формуле Герона
};

int main() {
    vector<Shape*> shapes;
    shapes.push_back(new Circle("Красный", 5.0));
    shapes.push_back(new Rectangle("Синий", 4.0, 6.0));
    shapes.push_back(new Triangle("Зеленый", 3.0, 4.0, 5.0));
    
    // TODO: Продемонстрировать полиморфизм - вывести информацию
    // о всех фигурах через указатель на базовый класс
    
    // Очистка памяти
    for (auto shape : shapes) {
        delete shape;
    }
    
    return 0;
}
```

---

## Задача 4: Абстрактный класс "Транспортное средство"

**Цель:** Создать и использовать абстрактный класс.

```cpp
#include <iostream>
#include <string>
using namespace std;

class Vehicle {
protected:
    string brand;
    string model;
    int year;
    double fuelLevel;

public:
    Vehicle(string b, string m, int y) : brand(b), model(m), year(y), fuelLevel(100) {}
    virtual ~Vehicle() {}
    
    // TODO: Сделать класс абстрактным с чисто виртуальными методами:
    // - startEngine()
    // - stopEngine()
    // - refuel(double amount)
    
    virtual void displayInfo() const {
        cout << brand << " " << model << " (" << year << ")" << endl;
        cout << "Уровень топлива: " << fuelLevel << "%" << endl;
    }
    
    double getFuelLevel() const { return fuelLevel; }
    void setFuelLevel(double level) { 
        if (level >= 0 && level <= 100) fuelLevel = level; 
    }
};

class Car : public Vehicle {
private:
    int doors;
    string transmission;

public:
    Car(string b, string m, int y, int d, string trans) 
        : Vehicle(b, m, y), doors(d), transmission(trans) {}
    
    // TODO: Реализовать чисто виртуальные методы
};

class Motorcycle : public Vehicle {
private:
    bool hasFairing;

public:
    Motorcycle(string b, string m, int y, bool fairing) 
        : Vehicle(b, m, y), hasFairing(fairing) {}
    
    // TODO: Реализовать чисто виртуальные методы
    void wheelie() {
        cout << brand << " " << model << " делает вилли!" << endl;
    }
};

int main() {
    // TODO: Создать массив указателей на Vehicle
    // Добавить объекты Car и Motorcycle
    // Продемонстрировать полиморфное поведение
    
    return 0;
}
```

---

## Задача 5: Композиция - Библиотека и Книги

**Цель:** Продемонстрировать отношение "композиция" между классами.

```cpp
#include <iostream>
#include <string>
#include <vector>
using namespace std;

class Book {
private:
    string title;
    string author;
    string isbn;
    int year;
    bool isAvailable;

public:
    // TODO: Создать конструктор, геттеры, сеттеры
    // TODO: Методы borrow() и returnBook() для изменения статуса доступности
    // TODO: Метод displayInfo() для вывода информации о книге
};

class Library {
private:
    string name;
    string address;
    vector<Book> books;

public:
    Library(string n, string addr) : name(n), address(addr) {}
    
    // TODO: Добавить методы:
    // - addBook(const Book& book)
    // - removeBook(const string& isbn)
    // - findBook(const string& title) const
    // - borrowBook(const string& isbn)
    // - returnBook(const string& isbn)
    // - displayAllBooks() const
    // - displayAvailableBooks() const
};

int main() {
    // TODO: Создать библиотеку
    // Добавить несколько книг
    // Продемонстрировать работу всех методов
    
    return 0;
}
```

---

## Задача 6: Статические члены и константы

**Цель:** Изучить работу со статическими членами класса.

```cpp
#include <iostream>
#include <string>
using namespace std;

class BankAccount {
private:
    string accountNumber;
    string ownerName;
    double balance;
    static int totalAccounts;           // Общее количество счетов
    static double totalBankBalance;     // Общий баланс банка
    const double MIN_BALANCE = 10.0;    // Минимальный баланс

public:
    // TODO: Создать конструктор с параметрами
    // В конструкторе увеличивать totalAccounts и добавлять баланс к totalBankBalance
    
    // TODO: Создать деструктор
    // В деструкторе уменьшать totalAccounts и вычитать баланс из totalBankBalance
    
    // TODO: Реализовать методы:
    // - deposit(double amount)
    // - withdraw(double amount) с проверкой минимального баланса
    // - displayAccountInfo() const
    
    // TODO: Статические методы:
    // - static int getTotalAccounts()
    // - static double getTotalBankBalance()
    // - static double getAverageBalance()
};

// TODO: Инициализировать статические переменные

int main() {
    // TODO: Создать несколько счетов
    // Продемонстрировать работу статических методов
    // Показать, что статические переменные общие для всех объектов
    
    return 0;
}
```

---

## Задача 7: Дружественные функции и операторы

**Цель:** Изучить использование дружественных функций и перегрузку операторов.

```cpp
#include <iostream>
#include <string>
using namespace std;

class Complex {
private:
    double real;
    double imaginary;

public:
    Complex(double r = 0, double i = 0) : real(r), imaginary(i) {}
    
    // TODO: Геттеры и сеттеры
    
    // TODO: Перегрузить операторы:
    // - Complex operator+(const Complex& other) const
    // - Complex operator-(const Complex& other) const
    // - Complex operator*(const Complex& other) const
    // - bool operator==(const Complex& other) const
    
    // TODO: Сделать дружественными:
    // - friend ostream& operator<<(ostream& os, const Complex& c)
    // - friend istream& operator>>(istream& is, Complex& c)
    
    void display() const {
        cout << real << " + " << imaginary << "i" << endl;
    }
};

int main() {
    // TODO: Создать несколько комплексных чисел
    // Продемонстрировать работу перегруженных операторов
    // Показать ввод/вывод через перегруженные операторы << и >>
    
    return 0;
}
```

---

## Задача 8: Множественное наследование

**Цель:** Изучить множественное наследование и решение проблемы ромбовидного наследования.

```cpp
#include <iostream>
#include <string>
using namespace std;

class Person {
protected:
    string name;
    int age;

public:
    Person(string n, int a) : name(n), age(a) {}
    virtual void display() const {
        cout << "Имя: " << name << ", Возраст: " << age << endl;
    }
};

class Employee {
protected:
    string position;
    double salary;

public:
    Employee(string pos, double sal) : position(pos), salary(sal) {}
    virtual void work() const {
        cout << "Выполняет работу как сотрудник" << endl;
    }
};

// TODO: Создать класс Teacher, наследующий от Person и Employee
class Teacher : public Person, public Employee {
private:
    string subject;
    int experienceYears;

public:
    // TODO: Создать конструктор
    // TODO: Переопределить методы display() и work()
    // TODO: Добавить специфичные методы для Teacher
};

class Researcher {
protected:
    string researchArea;
    int publicationsCount;

public:
    Researcher(string area, int publications) 
        : researchArea(area), publicationsCount(publications) {}
    
    void conductResearch() const {
        cout << "Проводит исследования в области: " << researchArea << endl;
    }
};

// TODO: Создать класс Professor, наследующий от Teacher и Researcher
class Professor : public Teacher, public Researcher {
public:
    // TODO: Создать конструктор
    // TODO: Переопределить необходимые методы
};

int main() {
    // TODO: Создать объекты Teacher и Professor
    // Продемонстрировать множественное наследование
    
    return 0;
}
```

---

## Задача 9: Шаблоны классов

**Цель:** Изучить создание и использование шаблонных классов.

```cpp
#include <iostream>
#include <vector>
#include <stdexcept>
using namespace std;

template<typename T>
class Stack {
private:
    vector<T> elements;
    int capacity;

public:
    Stack(int size = 10) : capacity(size) {}
    
    // TODO: Реализовать методы:
    // - void push(const T& element)
    // - T pop()
    // - T top() const
    // - bool isEmpty() const
    // - bool isFull() const
    // - int size() const
    
    void display() const {
        cout << "Стек: ";
        for (const auto& elem : elements) {
            cout << elem << " ";
        }
        cout << endl;
    }
};

template<typename T>
class Queue {
private:
    vector<T> elements;
    int capacity;

public:
    Queue(int size = 10) : capacity(size) {}
    
    // TODO: Реализовать методы:
    // - void enqueue(const T& element)
    // - T dequeue()
    // - T front() const
    // - bool isEmpty() const
    // - bool isFull() const
    // - int size() const
};

int main() {
    // TODO: Протестировать Stack и Queue с разными типами данных:
    // - int
    // - double
    // - string
    
    return 0;
}
```

---

## Задача 10: Полная система с использованием всех принципов ООП

**Цель:** Создать комплексную систему, использующую все изученные принципы ООП.

```cpp
#include <iostream>
#include <string>
#include <vector>
#include <memory>
using namespace std;

// Абстрактный базовый класс
class UniversityMember {
protected:
    string name;
    string id;
    string email;

public:
    UniversityMember(string n, string i, string e) : name(n), id(i), email(e) {}
    virtual ~UniversityMember() {}
    
    // TODO: Чисто виртуальные методы:
    // - virtual void displayInfo() const = 0;
    // - virtual void work() const = 0;
    
    virtual string getRole() const = 0;
};

class Student : public UniversityMember {
private:
    string major;
    int year;
    double gpa;
    vector<string> courses;

public:
    // TODO: Конструктор
    // TODO: Реализовать виртуальные методы
    // TODO: Добавить методы:
    // - enrollCourse(const string& course)
    // - dropCourse(const string& course)
    // - calculateGPA()
};

class Professor : public UniversityMember {
private:
    string department;
    string office;
    double salary;
    vector<string> teachingCourses;

public:
    // TODO: Конструктор
    // TODO: Реализовать виртуальные методы
    // TODO: Добавить методы:
    // - assignCourse(const string& course)
    // - removeCourse(const string& course)
    // - calculateSalary() const
};

class Course {
private:
    string courseCode;
    string courseName;
    int credits;
    Professor* instructor;
    vector<Student*> enrolledStudents;

public:
    // TODO: Конструктор
    // TODO: Методы:
    // - addStudent(Student* student)
    // - removeStudent(const string& studentId)
    // - setInstructor(Professor* prof)
    // - displayCourseInfo() const
};

class University {
private:
    string name;
    vector<unique_ptr<UniversityMember>> members;
    vector<unique_ptr<Course>> courses;
    static int totalUniversities;

public:
    University(string n) : name(n) {
        totalUniversities++;
    }
    
    ~University() {
        totalUniversities--;
    }
    
    // TODO: Методы для управления членами университета и курсами
    // TODO: Статические методы
};

int main() {
    // TODO: Создать университет
    // Добавить студентов, преподавателей, курсы
    // Продемонстрировать все возможности системы
    
    return 0;
}
```
5. **Обращайте внимание на управление памятью** (особенно в задачах с полиморфизмом)

Удачи в выполнении лабораторной работы!
